(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{414:function(e,t,a){"use strict";a.r(t);var s=a(54),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("ul",[a("li",[a("a",{attrs:{href:"#org0bd451f"}},[e._v("Linux System Administration")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#org8cf922c"}},[e._v("Process Management")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#org160623d"}},[e._v("Investigating Processes")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org46b2d41"}},[e._v("Killing Processes")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org9627970"}},[e._v("Background Processes")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org52b67c1"}},[e._v("Scheduling Jobs")])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org4529c3a"}},[e._v("Logging")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#org4ed3789"}},[e._v("Login Logging")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org1573fb5"}},[e._v("Syslog Daemon and "),a("code",[e._v("logger")])])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org8d0084d"}},[e._v("Resource Monitoring")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#org4745cf0"}},[a("code",[e._v("top")])])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#orgf744c31"}},[e._v("Network Management")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#orgf8bac13"}},[e._v("Concepts")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org71754c3"}},[e._v("TCP/IP Model")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org3ac0697"}},[e._v("OSI Model")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org996734b"}},[e._v("Casting")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org21fa999"}},[e._v("Network Interface Configuration")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#org376e23a"}},[a("code",[e._v("ssh")])])])])])])])]),e._v(" "),a("p",[a("a",{attrs:{id:"org0bd451f"}})]),e._v(" "),a("h1",{attrs:{id:"linux-system-administration"}},[e._v("Linux System Administration")]),e._v(" "),a("p",[a("a",{attrs:{id:"org8cf922c"}})]),e._v(" "),a("h2",{attrs:{id:"process-management"}},[e._v("Process Management")]),e._v(" "),a("p",[a("a",{attrs:{id:"org160623d"}})]),e._v(" "),a("h3",{attrs:{id:"investigating-processes"}},[e._v("Investigating Processes")]),e._v(" "),a("p",[e._v("Certain shell variables hold process information.")]),e._v(" "),a("p",[a("code",[e._v("$$")]),e._v(" contains the PID (process id) of the current process.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$$")]),e._v("\n")])])]),a("p",[a("code",[e._v("$PPID")]),e._v(" contains the PID of the "),a("strong",[e._v("parent process")]),e._v(" (the PPID), the process which spawned the current process.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$PPID")]),e._v("\n")])])]),a("p",[e._v("Check the current PID, start a new bash process, and then verify that the PPID of that new bash process is the PID of the process from which the current process was spawned.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("bash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$PPID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("Processes are created in 2 stages: fork, and exec. The spawning process first creates a copy of itself (the fork), then executes "),a("code",[e._v("exec")]),e._v(" to replace the fork. "),a("code",[e._v("exec")]),e._v(" can replace the current process with the command that it executes.")]),e._v(" "),a("p",[a("code",[e._v("ps")]),e._v(" is a tool to examine processes. It can be invoked with various argument combinations. Two useful argument sets are "),a("code",[e._v("aux")]),e._v(" and "),a("code",[e._v("fax")]),e._v(".")]),e._v(" "),a("p",[a("code",[e._v("aux")]),e._v(", called as "),a("code",[e._v("ps aux")]),e._v(", contains "),a("code",[e._v("a")]),e._v(", "),a("code",[e._v("u")]),e._v(", and "),a("code",[e._v("x")]),e._v(", each of which controls some aspect of the output of "),a("code",[e._v("ps")]),e._v(". "),a("code",[e._v("a")]),e._v(" shows processes from all users, "),a("code",[e._v("u")]),e._v(" displays the owner of the process, and "),a("code",[e._v("x")]),e._v(" shows 'headless' processes, those not attached to a terminal window. The "),a("code",[e._v("f")]),e._v(" of "),a("code",[e._v("ps fax")]),e._v(" stands for 'forest', is short for "),a("code",[e._v("--forest")]),e._v(", and shows the process with children in a tree-like view.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ps")]),e._v(" fax"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ps")]),e._v(" aux"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("Using "),a("code",[e._v("ps")]),e._v(" with "),a("code",[e._v("grep")]),e._v(" is also effective:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ps")]),e._v(" fax "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" mysql\n")])])]),a("p",[a("code",[e._v("pgrep")]),e._v(" can be used to search for a PID by process name, though it's utility is limited when there is more than one process with the same human readable name. For example:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("pgrep "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("bash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("Very useful for an overview is "),a("code",[e._v("top")]),e._v(". "),a("code",[e._v("top")]),e._v(" is a process manager which allows ordering by CPU%, by memory %, and so on. "),a("code",[e._v("top")]),e._v(" can be invoked with arguments, or used interactively. Pressing "),a("code",[e._v("h")]),e._v(" while in "),a("code",[e._v("top")]),e._v(" will show help for interactive use. To invoke "),a("code",[e._v("top")]),e._v(" with memory use ordering, for example:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("top")]),e._v(" -o %MEM\n")])])]),a("p",[a("a",{attrs:{id:"org46b2d41"}})]),e._v(" "),a("h3",{attrs:{id:"killing-processes"}},[e._v("Killing Processes")]),e._v(" "),a("p",[e._v("The primary way to stop a process is with "),a("code",[e._v("kill PID")]),e._v(". The "),a("code",[e._v("kill")]),e._v(" command sends a signal to stop the process with PID.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#kill 11025; # Don't run that unless you know what PID 11025 is!")]),e._v("\n")])])]),a("p",[e._v("There is a variety of signals which can be sent to processes with kill. The list can be viewed by typing "),a("code",[e._v("kill -l")]),e._v(" at the terminal.")]),e._v(" "),a("p",[a("code",[e._v("kill -1")]),e._v(" stands for the signal "),a("code",[e._v("SIGHUP")]),e._v(", which itself stands for 'signal hang up', a holdover from the days hardwire transmission. "),a("code",[e._v("kill -1 PID")]),e._v(" forces the process specified by PID to re-read it's configuration file. This may have different effects with different programs specified by PID.")]),e._v(" "),a("p",[a("code",[e._v("kill -15")]),e._v(" stands for "),a("code",[e._v("SIGTERM")]),e._v(", which stands for 'signal terminate'. "),a("code",[e._v("SIGTERM")]),e._v(" is the standard signal sent with "),a("code",[e._v("kill")]),e._v(", when used without other arguments.")]),e._v(" "),a("p",[a("code",[e._v("kill -9")]),e._v(" is "),a("code",[e._v("SIGKILL")]),e._v(". The difference between "),a("code",[e._v("SIGTERM")]),e._v(" and "),a("code",[e._v("SIGKILL")]),e._v(" is that "),a("code",[e._v("SIGKILL")]),e._v(" is sent to the kernel, not the process, and it cannot be countermanded. "),a("code",[e._v("SIGKILL")]),e._v(" is also called the 'sure kill'. The danger with "),a("code",[e._v("SIGKILL")]),e._v(" is that it does not allow the killed process to perform any end of life cleanup, which can result in invalid state if used wantonly.")]),e._v(" "),a("p",[e._v("Processes can be suspended and resumed with "),a("code",[e._v("SIGSTOP")]),e._v(" ("),a("code",[e._v("kill -19")]),e._v(") and "),a("code",[e._v("SIGCONT")]),e._v(" ("),a("code",[e._v("kill -18")]),e._v("), respectively. Suspended processes remain in memory, but consume no CPU.")]),e._v(" "),a("p",[a("code",[e._v("pkill")]),e._v(" is shorthand for finding a PID and issuing "),a("code",[e._v("kill PID")]),e._v(" - it takes a process name. "),a("code",[e._v("pkill PID")]),e._v(" is functionally equivalent to "),a("code",[e._v("kill $(pgrep process_name)")]),e._v(".")]),e._v(" "),a("p",[a("code",[e._v("killall")]),e._v(" sends a "),a("code",[e._v("SIGTERM")]),e._v(" to all processes with the supplied name:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# killall mysql;")]),e._v("\n")])])]),a("p",[a("code",[e._v("killall")]),e._v(" can be supplied with number arguments, just like "),a("code",[e._v("kill")]),e._v(", which change which signal is sent to the processes. A dangerous but sometimes necessary command is "),a("code",[e._v("killall -9 process_name")]),e._v(", which sends the "),a("code",[e._v("SIGKILL")]),e._v(" signal to all processes named by process"),a("sub",[e._v("name")]),e._v(".")]),e._v(" "),a("p",[e._v("Processes can be killed from inside the "),a("code",[e._v("top")]),e._v(" manager, by pressing "),a("code",[e._v("k")]),e._v(" inside the "),a("code",[e._v("top")]),e._v(" view.")]),e._v(" "),a("p",[a("a",{attrs:{id:"org9627970"}})]),e._v(" "),a("h3",{attrs:{id:"background-processes"}},[e._v("Background Processes")]),e._v(" "),a("p",[e._v("Background jobs can be seen with the "),a("code",[e._v("jobs")]),e._v(" commmand.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("jobs")]),e._v("\n")])])]),a("p",[a("code",[e._v("CTRL-Z")]),e._v(" "),a("strong",[a("strong",[e._v("suspends a process, sending it to the background")])]),e._v(", and halting it's operation. This is done by sending a "),a("code",[e._v("SIGSTOP")]),e._v(" to the process. This could equally be accomplished with "),a("code",[e._v("kill -19")]),e._v(" - "),a("code",[e._v("SIGSTOP")]),e._v(".")]),e._v(" "),a("p",[e._v("Starting a process with the "),a("code",[e._v("&")]),e._v(" starts the process in the background, which can be quite handy:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("service")]),e._v(" apache2 restart "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&")]),e._v("\n")])])]),a("p",[e._v("Using the "),a("code",[e._v("&")]),e._v(", we can restart Apache in the background, and if we dont redirect the standard out and error, they will be displayed on the terminal, without preventing further typing.")]),e._v(" "),a("p",[a("code",[e._v("jobs -p")]),e._v(" will show the PIDs of the background jobs, as opposed to their command names.")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("fg")]),e._v(" command brings a background job to the foreground - it can take a number, and bring that many jobs to the foreground:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("fg")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v("\n")])])]),a("p",[e._v("The "),a("code",[e._v("bg")]),e._v(" command "),a("strong",[a("strong",[e._v("restarts suspended background jobs")])]),e._v(". It is a counterpart to "),a("code",[e._v("CTRL-Z")]),e._v(", as well as "),a("code",[e._v("fg")]),e._v(". "),a("code",[e._v("bg")]),e._v(" can take a job number, which is usually given as "),a("code",[e._v("[NUM]+ Stopped [CMD NAME]")]),e._v(" when viewing/backgrounding a process.")]),e._v(" "),a("p",[a("a",{attrs:{id:"org52b67c1"}})]),e._v(" "),a("h3",{attrs:{id:"scheduling-jobs"}},[e._v("Scheduling Jobs")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("One Time Jobs")]),e._v(" "),a("p",[e._v("Basic, one time scheduling can be achieved with "),a("code",[e._v("at")]),e._v(". Calling "),a("code",[e._v("at")]),e._v(" will drop into a terminal based input, where one can define the command to be executed at the appointed time.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("at 09:00"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[a("code",[e._v("atq")]),e._v(" allows us to query jobs scheduled with "),a("code",[e._v("at")]),e._v(". "),a("code",[e._v("at -l")]),e._v(" can also be used:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("atq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nat -l"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[a("code",[e._v("at")]),e._v(" understands some English too, and if you don't specify the time, will assume you meant "),a("strong",[e._v("the current time")]),e._v(", plus the qualifier:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("at next monday"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\natq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[a("code",[e._v("atrm")]),e._v(" can remove jobs from the "),a("code",[e._v("at")]),e._v(" queue.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("atrm "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("Users can be permitted to use "),a("code",[e._v("at")]),e._v(" by listing them in the file "),a("code",[e._v("/etc/at.allow")]),e._v(", and prevented by listing them in "),a("code",[e._v("/etc/at.deny")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Repeated Jobs")]),e._v(" "),a("p",[a("code",[e._v("cron")]),e._v(" is the well known command for scheduling jobs. Cron is incredibly useful, but as with all timing, it is important to get it right.")]),e._v(" "),a("p",[a("code",[e._v("crontab")]),e._v(" is both a command, and the name of the configuration file. Every user can have their own "),a("code",[e._v("crontab")]),e._v(". The "),a("code",[e._v("crontab")]),e._v(" format is five fields:")]),e._v(" "),a("ul",[a("li",[e._v("minute")]),e._v(" "),a("li",[e._v("hour")]),e._v(" "),a("li",[e._v("day of month")]),e._v(" "),a("li",[e._v("month")]),e._v(" "),a("li",[e._v("day of week")])]),e._v(" "),a("p",[e._v("A "),a("code",[e._v("*")]),e._v(" in any field means any value in that field.")]),e._v(" "),a("p",[e._v("One line in a "),a("code",[e._v("crontab")]),e._v(" file looks like this:")]),e._v(" "),a("div",{staticClass:"language-cron extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("15 09 * 02 * python /path/to/script.py\n")])])]),a("p",[e._v("Instead of scheduling using the five fields mentioned above, it is possible to schedule with some shorthand value:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("@reboot")])]),e._v(" "),a("li",[a("code",[e._v("@yearly")])]),e._v(" "),a("li",[a("code",[e._v("@annually")])]),e._v(" "),a("li",[a("code",[e._v("@monthly")])]),e._v(" "),a("li",[a("code",[e._v("@daily")])]),e._v(" "),a("li",[a("code",[e._v("@weekly")])]),e._v(" "),a("li",[a("code",[e._v("@hourly")])]),e._v(" "),a("li",[a("code",[e._v("@midnight")])])]),e._v(" "),a("p",[e._v("The crontab file should not be edited directly - there is a dedicated edit mode which will use the text editor defined in the "),a("code",[e._v("EDITOR")]),e._v(" or "),a("code",[e._v("VISUAL")]),e._v(" environment variables. The edit mode is initiated with "),a("code",[e._v("crontab -e")]),e._v(", and the cron table can be viewed with "),a("code",[e._v("crontab -l")]),e._v(".")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("crontab")]),e._v(" -l"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("crontab")]),e._v(" -e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("The crontab file is at "),a("code",[e._v("/etc/crontab")]),e._v(", and contains the "),a("code",[e._v("crontab")]),e._v(" entries. The various period directories at "),a("code",[e._v("/etc/cron.*")]),e._v(" contain the tasks to be executing with that periodicity, ie, "),a("code",[e._v("/etc/cron.daily")]),e._v("). There is one special directory, "),a("code",[e._v("/etc/cron.d")]),e._v(", for cases which need more control than the standard options.")]),e._v(" "),a("p",[e._v("Similar to "),a("code",[e._v("at")]),e._v(", there are "),a("code",[e._v("cron.allow")]),e._v(" and "),a("code",[e._v("cron.deny")]),e._v(" files at "),a("code",[e._v("/etc/")]),e._v(".")])])]),e._v(" "),a("p",[a("a",{attrs:{id:"org4529c3a"}})]),e._v(" "),a("h2",{attrs:{id:"logging"}},[e._v("Logging")]),e._v(" "),a("p",[a("a",{attrs:{id:"org4ed3789"}})]),e._v(" "),a("h3",{attrs:{id:"login-logging"}},[e._v("Login Logging")]),e._v(" "),a("p",[e._v("Various log files can be used to track logins:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("/var/log/wtmp")])]),e._v(" "),a("li",[a("code",[e._v("/var/log/btmp")])]),e._v(" "),a("li",[a("code",[e._v("/var/log/lastlog")])]),e._v(" "),a("li",[a("code",[e._v("/var/run/utmp")])])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("who")]),e._v(" command shows the currently logged in users, by reading the "),a("code",[e._v("/var/run/utmp")]),e._v(" file:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("who")]),e._v("\n")])])]),a("p",[e._v("The "),a("code",[e._v("last")]),e._v(" command shows a list of logins, read from the "),a("code",[e._v("/var/log/wtmp")]),e._v(" file:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("last\n")])])]),a("p",[e._v("The "),a("code",[e._v("last")]),e._v(" command will also show reboots from that file, and one can specifically ask to see reboots:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("last "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("reboot")]),e._v("\n")])])]),a("p",[e._v("The "),a("code",[e._v("lastlog")]),e._v(" command reads from the "),a("code",[e._v("/var/log/lastlog")]),e._v(" file, and shows the last login time of each user:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("lastlog "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("tail")]),e._v("\n")])])]),a("p",[e._v("The "),a("code",[e._v("lastb")]),e._v(" command displays the contents of "),a("code",[e._v("/var/log/btmp")]),e._v(", which is updated on incorrect password attempts. "),a("strong",[a("strong",[e._v("This file does not log failed "),a("code",[e._v("ssh")]),e._v(" attempts.")])])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("lastb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("If the file is not present, you can enable bad login logging by creating it.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("touch")]),e._v(" /var/log/btmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("Failed superuser ("),a("code",[e._v("su")]),e._v(")and "),a("code",[e._v("ssh")]),e._v(" login attempts will go to either "),a("code",[e._v("/var/log/secure")]),e._v(", or "),a("code",[e._v("/var/log/auth.log")]),e._v(", depending on the distribution. It is possible to create a custom log file, and direct failed superuser and "),a("code",[e._v("ssh")]),e._v(" logins there:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" syslog_dir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"auth.*,authpriv.*    /path/to/custom.log"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v(" syslog.conf\n")])])]),a("p",[a("a",{attrs:{id:"org1573fb5"}})]),e._v(" "),a("h3",{attrs:{id:"syslog-daemon-and-logger"}},[e._v("Syslog Daemon and "),a("code",[e._v("logger")])]),e._v(" "),a("p",[a("code",[e._v("syslogd")]),e._v(" was the original system logger daemon. "),a("code",[e._v("rsyslogd")]),e._v(" ('reliable "),a("code",[e._v("syslog")]),e._v("') is the backwards compatible, upgraded system logger. It uses "),a("code",[e._v("/etc/rsyslogd.conf")]),e._v(". There is some terminology necessary to understand "),a("code",[e._v("rsyslogd")]),e._v(" configuration:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("facility")]),e._v(": where the message comes from")]),e._v(" "),a("li",[a("code",[e._v("priority")]),e._v(": how important/severe is the case")]),e._v(" "),a("li",[a("code",[e._v("action")]),e._v(": what to do with the message")])]),e._v(" "),a("p",[e._v("Every line in the "),a("code",[e._v(".conf")]),e._v(" file is an instruction on how to log something, using the terms listed above.")]),e._v(" "),a("p",[a("code",[e._v("rsyslog")]),e._v(" has modules, which can be used to expand the functionality of the tool, for example, by logging to a database. "),a("code",[e._v("man rsyslog.conf")]),e._v(", and "),a("code",[e._v("man rsyslogd")]),e._v(" contain plenty of information.")]),e._v(" "),a("p",[e._v("Facilities, as listed above, are the sources from which log messages can be drawn. These include:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("auth")])]),e._v(" "),a("li",[a("code",[e._v("authpriv")])]),e._v(" "),a("li",[a("code",[e._v("cron")])]),e._v(" "),a("li",[a("code",[e._v("daemon")])]),e._v(" "),a("li",[a("code",[e._v("ftp")])]),e._v(" "),a("li",[a("code",[e._v("kern")])]),e._v(" "),a("li",[a("code",[e._v("lpr mail")])]),e._v(" "),a("li",[a("code",[e._v("mark")]),e._v(" (internal use)")]),e._v(" "),a("li",[a("code",[e._v("news")])]),e._v(" "),a("li",[a("code",[e._v("syslog")])]),e._v(" "),a("li",[a("code",[e._v("user")])]),e._v(" "),a("li",[a("code",[e._v("uucp")])]),e._v(" "),a("li",[a("code",[e._v("local0-7")])])]),e._v(" "),a("p",[e._v("The difference between "),a("code",[e._v("auth")]),e._v(" and "),a("code",[e._v("authpriv")]),e._v(" is that "),a("code",[e._v("authpriv")]),e._v(" denotes "),a("strong",[a("strong",[e._v("non-system authorization")])]),e._v(" messages, whereas "),a("code",[e._v("auth")]),e._v(" denotes authorization and authentication messages. "),a("code",[e._v("authpriv")]),e._v(" can be configured with restricted permissions to log messages which may contain sensitive data.")]),e._v(" "),a("p",[e._v("You may notice "),a("code",[e._v("local0-7")]),e._v(". There are 8 facilities "),a("code",[e._v("0-7")]),e._v(", which are available to be configured for attached devices, or networked devices which support logging to syslog.")]),e._v(" "),a("p",[e._v("Log messages have priorities, here listed in ascending order:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("debug")])]),e._v(" "),a("li",[a("code",[e._v("info")])]),e._v(" "),a("li",[a("code",[e._v("notice")])]),e._v(" "),a("li",[a("code",[e._v("warning")])]),e._v(" "),a("li",[a("code",[e._v("err")])]),e._v(" "),a("li",[a("code",[e._v("crit")])]),e._v(" "),a("li",[a("code",[e._v("alert")])]),e._v(" "),a("li",[a("code",[e._v("emerg")])])]),e._v(" "),a("p",[e._v("Choosing a severity level will automatically log any messages with a higher severity level. Adding "),a("code",[e._v("=")]),e._v(", will restrict the reported messages to exactly the severity specified (eg "),a("code",[e._v("=warning")]),e._v("). "),a("code",[e._v(".none")]),e._v(" will prevent the facility to which it is applied from being reported.")]),e._v(" "),a("p",[e._v("The last component, actions, define what is done with the messages reported from facilities. The default action simply sends a message to the listed username. Any action ca be preceded with a "),a("code",[e._v("-")]),e._v(" to prevent the log file from being synced after the message. The available actions are:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("root, myuser")]),e._v(" -> comma separated list of users")]),e._v(" "),a("li",[a("code",[e._v("*")]),e._v(" -> all users")]),e._v(" "),a("li",[a("code",[e._v("/")]),e._v(" -> file (printer, console, tty, etc)")]),e._v(" "),a("li",[a("code",[e._v("-/")]),e._v(" -> file (but don't sync after writing)")]),e._v(" "),a("li",[a("code",[e._v("|")]),e._v(" -> named pipe")]),e._v(" "),a("li",[a("code",[e._v("@")]),e._v(" -> another syslog server hostname")])]),e._v(" "),a("p",[e._v("An simple example configuration in "),a("code",[e._v("/etc/rsyslog.conf")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("local0.emerg  /var/log/attached_device_emergency\ncron."),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("debug   myuser\nsyslog.*      /var/log/all_syslog_messages\n")])])]),a("p",[e._v("After changing the configuration, restart the service:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("service")]),e._v(" rsyslog restart"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("The "),a("code",[e._v("logger")]),e._v(" command is useful for generating test messages for the logging configuration. It can also be used in scripts to actually log.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("logger -p local0.notice "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"some information"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[a("code",[e._v("-p")]),e._v(" is a flag to set the priority. More information can be found with "),a("code",[e._v("man logger")]),e._v(".")]),e._v(" "),a("p",[e._v("The way to watch logs in real time is with the "),a("code",[e._v("tail")]),e._v(" command. "),a("code",[e._v("tail -f FILENAME")]),e._v(" is similar to calling "),a("code",[e._v("tail FILENAME")]),e._v(" each time a new log line is added to the file - it is a 'live updating' "),a("code",[e._v("tail")]),e._v(".")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("tail")]),e._v(" -f /var/log/postgresql/postgresql-11-main.log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("Similarly, you can use the "),a("code",[e._v("watch")]),e._v(" command. Preceding a command with "),a("code",[e._v("watch")]),e._v(" will repeat the command, by default evey 2 seconds:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("watch")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("whoami")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("Log file sizes will eventually become cumbersome. It is common practice to 'rotate' log files, which means compressing and removing intermediate logs to keep the current log file manageable. The command for this is "),a("code",[e._v("logrotate")]),e._v(". The main "),a("code",[e._v("logrotate")]),e._v(" configuration file is at "),a("code",[e._v("/etc/logrotate.conf")]),e._v(", and configuration for individual applications is at "),a("code",[e._v("/etc/logrotate.d/APPLICATION")]),e._v(".")]),e._v(" "),a("p",[a("a",{attrs:{id:"org8d0084d"}})]),e._v(" "),a("h2",{attrs:{id:"resource-monitoring"}},[e._v("Resource Monitoring")]),e._v(" "),a("p",[a("a",{attrs:{id:"org4745cf0"}})]),e._v(" "),a("h3",{attrs:{id:"top"}},[a("code",[e._v("top")])]),e._v(" "),a("p",[a("code",[e._v("top")]),e._v(" is the standard way to monitor resources. "),a("code",[e._v("top")]),e._v(" is an interactive monitoring tool which can show a variety of metrics. Among the ways "),a("code",[e._v("top")]),e._v(" can be used are by pressing "),a("code",[e._v("k")]),e._v(", "),a("code",[e._v("t")]),e._v(", or "),a("code",[e._v("m")]),e._v(". "),a("code",[e._v("k")]),e._v(" will cause "),a("code",[e._v("top")]),e._v(" to request a PID to "),a("code",[e._v("kill")]),e._v(". "),a("code",[e._v("m")]),e._v(" and "),a("code",[e._v("t")]),e._v(" will toggle between displaying memory and task information. "),a("code",[e._v("top")]),e._v(" can be called with arguments to customise its scope:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("top")]),e._v(" p "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" p "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("345")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("The command above will restrict "),a("code",[e._v("top")]),e._v(" to displaying information about processes with PIDs 1 and 345. More information can be found with "),a("code",[e._v("man top")]),e._v(".")]),e._v(" "),a("p",[e._v("Other tools for resource monitoring include "),a("code",[e._v("nmon")]),e._v(" and "),a("code",[e._v("htop")]),e._v(". Both have a similar display to "),a("code",[e._v("top")]),e._v(", with more styling.")]),e._v(" "),a("p",[a("a",{attrs:{id:"orgf744c31"}})]),e._v(" "),a("h2",{attrs:{id:"network-management"}},[e._v("Network Management")]),e._v(" "),a("p",[a("a",{attrs:{id:"orgf8bac13"}})]),e._v(" "),a("h3",{attrs:{id:"concepts"}},[e._v("Concepts")]),e._v(" "),a("p",[e._v("When talking about networking, it is necessary to have a model to contain the discussion. There are two commonly used models: the TCP/IP model and the Open Systems Integration (OSI) model.")]),e._v(" "),a("p",[a("a",{attrs:{id:"org71754c3"}})]),e._v(" "),a("h3",{attrs:{id:"tcp-ip-model"}},[e._v("TCP/IP Model")]),e._v(" "),a("p",[e._v("The TCP/IP model has 4 layers:")]),e._v(" "),a("ul",[a("li",[e._v("Network Access Layer")]),e._v(" "),a("li",[e._v("Network Layer")]),e._v(" "),a("li",[e._v("Host-to-Host Layer")]),e._v(" "),a("li",[e._v("Application Layer")])]),e._v(" "),a("p",[e._v("I prefer the more detailed OSI model, but the TCP/IP model roughly maps to the OSI model.")]),e._v(" "),a("p",[a("a",{attrs:{id:"org3ac0697"}})]),e._v(" "),a("h3",{attrs:{id:"osi-model"}},[e._v("OSI Model")]),e._v(" "),a("p",[e._v("The OSI model has 7 layers:")]),e._v(" "),a("ul",[a("li",[e._v("Physical")]),e._v(" "),a("li",[e._v("Data Link")]),e._v(" "),a("li",[e._v("Network")]),e._v(" "),a("li",[e._v("Transport")]),e._v(" "),a("li",[e._v("Session")]),e._v(" "),a("li",[e._v("Presentation")]),e._v(" "),a("li",[e._v("Application")])]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Physical Layer (Layer 1)")]),e._v(" "),a("p",[e._v("The physical layer concerns things you might associate with electrical engineering: voltage, electrical signals, types of cable and connector, and so on. While this layer provides the foundation of the others, it is not specifically relevant to system administration.")])]),e._v(" "),a("li",[a("p",[e._v("Data Link Layer (Layer 2)")]),e._v(" "),a("p",[e._v("This is the layer of bridges, switches, frames and MAC addresses - matters which sit "),a("strong",[e._v("just above")]),e._v(" the physical layer. Ethernet and Wireless device management occurs mostly at this layer, with protocols like the Address Resolution Protocol ("),a("code",[e._v("arp")]),e._v(") operating at this level. "),a("code",[e._v("ifconfig")]),e._v(" (or the newer "),a("code",[e._v("ip")]),e._v(" command) can give some information about the machine status with regard to the devices and protocols of this layer.")])]),e._v(" "),a("li",[a("p",[e._v("Network Layer (Layer 3)")]),e._v(" "),a("p",[e._v("The network layer mainly concerns "),a("code",[e._v("ip")]),e._v(" protocol packets. Hosts at this layer are identified by a 32 bit IP address. Other protocols operate on this layer, such as "),a("code",[e._v("icmp")]),e._v(". The "),a("code",[e._v("/etc/protocols")]),e._v(" file has information on the protocols operative.")])]),e._v(" "),a("li",[a("p",[e._v("Transport Layer (Layer 4)")]),e._v(" "),a("p",[e._v("The TCP/IP model calls this the 'host-to-host' layer. The protocols operative at this layer are "),a("code",[e._v("tcp")]),e._v(" and "),a("code",[e._v("udp")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Session, Presentation, Application Layers (Layers 5, 6, 7)")]),e._v(" "),a("p",[e._v("These layers concern the handling of network data once it has left the Transport Layer, and so are more the concern of application security and networking.")])])]),e._v(" "),a("p",[a("a",{attrs:{id:"org996734b"}})]),e._v(" "),a("h3",{attrs:{id:"casting"}},[e._v("Casting")]),e._v(" "),a("p",[e._v("Along with the type of protocol ("),a("code",[e._v("DCHP")]),e._v(", "),a("code",[e._v("ARP")]),e._v(", "),a("code",[e._v("TCP/IP")]),e._v(", "),a("code",[e._v("BOOTP")]),e._v(", etc), the type of cast is an important feature of network communication. There are 4 types of cast:")]),e._v(" "),a("ul",[a("li",[e._v("Unicast: destined for exactly one recipient")]),e._v(" "),a("li",[e._v("Multicast: destined for a group of recipients")]),e._v(" "),a("li",[e._v("Broadcast: destined for every receiver on the network")]),e._v(" "),a("li",[e._v("Anycast: goes to the geographically nearest of a defined group.")])]),e._v(" "),a("p",[a("a",{attrs:{id:"org21fa999"}})]),e._v(" "),a("h3",{attrs:{id:"network-interface-configuration"}},[e._v("Network Interface Configuration")]),e._v(" "),a("p",[a("code",[e._v("/etc/network/interfaces")]),e._v(" is a main network interface configuration file.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" /etc/network/interfaces"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("The following configuration configures the "),a("code",[e._v("loopback")]),e._v(" interface, and the "),a("code",[e._v("eth0")]),e._v(" interface for DCHP (Dynamic Host Configuration Protocol):")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# The loopback network interface")]),e._v("\nauto lo\niface lo inet loopback\nauto eth0\niface eth0 inet dhcp\n")])])]),a("p",[e._v("The following configuration is how "),a("code",[e._v("/etc/network/interfaces")]),e._v(" might look configured for a static ip address:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("auto eth0\niface eth0 inet static\naddress "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("10.42")]),e._v(".189.198\nbroadcast "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("10.42")]),e._v(".189.207\nnetmask "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("255.255")]),e._v(".255.240\ngateway "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("10.42")]),e._v(".189.193\n")])])]),a("p",[a("code",[e._v("ifup")]),e._v(" and "),a("code",[e._v("ifdown")]),e._v(" are used to activate and deactivate network interfaces. Network interfaces "),a("strong",[e._v("should")]),e._v(" be deactivated before being reconfigured, but do not have to be.")]),e._v(" "),a("p",[a("code",[e._v("ifconfig")]),e._v(" is the classic network interface configurator. Just typing "),a("code",[e._v("ifconfig")]),e._v(" without arguments, will show the list of active network interfaces.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifconfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[a("code",[e._v("ifconfig")]),e._v(" can be supplied with the name of a network interface, which restricts the view to that interface:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifconfig")]),e._v(" eth0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# assuming your interface is called eth0...")]),e._v("\n")])])]),a("p",[a("code",[e._v("ifconfig")]),e._v(" can activate and deactive the network interface. The difference from "),a("code",[e._v("ifup")]),e._v(" and "),a("code",[e._v("ifdown")]),e._v(" is that "),a("code",[e._v("ifconfig INTERFACE_NAME up/down")]),e._v(" will deactivate/reactivate the interface "),a("strong",[e._v("with the current configuration")]),e._v(", whereas "),a("code",[e._v("ifup/down")]),e._v(" will reload the configuration from file, including any new configuration.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifconfig")]),e._v(" eth0 down"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifconfig")]),e._v(" eth0 up"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifconfig")]),e._v(" eth0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[a("code",[e._v("ifconfig")]),e._v(" can set IP addresses and "),a("code",[e._v("MAC")]),e._v(" addresses, which are retained until "),a("code",[e._v("ifdown/up")]),e._v(" or reboot:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifconfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Check initial configuration")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifconfig")]),e._v(" eth0 "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".55.22 netmask "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("255.255")]),e._v(".255.0.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Set the ip")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifconfig")]),e._v(" eth0 hw ether 00:42:42:42:42:42"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Set the MAC")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifconfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Check the changes")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifdown")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Reset the changes")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ifconfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Check the reset")]),e._v("\n")])])]),a("p",[e._v("On some systems, the "),a("code",[e._v("ifconfig")]),e._v(" command has been deprecated and replaced with the "),a("code",[e._v("ip")]),e._v(" command, which is broadly similar, but has some different arguments and functionality:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ip")]),e._v(" addr show"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Same as ifconfig")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ip")]),e._v(" addr show eth0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Same as ifconfig eth0")]),e._v("\n")])])]),a("p",[a("code",[e._v("dhclient")]),e._v(" is a daemon which manages the client side of the Dynamic Host Configuration Protocol (DHCP). DHCP enables a host to receive a local IP from a DHCP server. Typically your home router is a DCHP server for your local wifi network. If in use, "),a("code",[e._v("dhclient")]),e._v(" will override any local ip configurations set with "),a("code",[e._v("ifconfig")]),e._v(" or "),a("code",[e._v("ip")]),e._v(" when it receives a new ip from teh DHCP server.")]),e._v(" "),a("p",[e._v("Every host (machine) is given a "),a("code",[e._v("hostname")]),e._v(", and often positioned in a DNS namespace, to give a fully qualified domain name, for example, 'blog.this.com'. On Debian and Debian-derived distros, the hostname can be found (and set) in "),a("code",[e._v("/etc/hostname")]),e._v(".")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("hostname")]),e._v(" can be temporarily set using "),a("code",[e._v("hostname NEW_HOSTNAME")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" /etc/hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Read hostname from file")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("hostname")]),e._v(" some-new-hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Temporarily set a new hostname")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Check the new hostname")]),e._v("\n")])])]),a("p",[a("code",[e._v("sysctl")]),e._v(" can be used to read and write the "),a("code",[e._v("hostname")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("sysctl kernel.hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# What is the current hostname?")]),e._v("\nsysctl kernel.hostname "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" another-hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Set a different hostname")]),e._v("\nsysctl kernel.hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Check using sysctl")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Check using hostname command")]),e._v("\n")])])]),a("p",[e._v("The "),a("code",[e._v("arp")]),e._v(" command can be used to manipulate the system ARP cache - the list of machines recently communicated with. ARP is the Address Resolution Protocol, a Data Link (2) Layer protocol, which enables IP addresses to be resolved to MAC (Media Access Control) addresses. IP addresses identify a host on the Network (3) Layer, MAC addresses identify a machine on the Data Link (2) Layer.")]),e._v(" "),a("p",[e._v("List the hosts in the ARP cache with:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("arp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Standard")]),e._v("\narp -a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Alternative 'BSD style' no columns view")]),e._v("\n")])])]),a("p",[e._v("Remove an ARP cache entry with:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("arp -d IP_OR_HOSTNAME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Requires root")]),e._v("\n")])])]),a("p",[e._v("The "),a("code",[e._v("route")]),e._v(" command will show the machine's local routing table, as will "),a("code",[e._v("netstat -r")]),e._v(". "),a("code",[e._v("route")]),e._v(" also allows one to manipulate the routing table:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("route "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" default gw SOME_IP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Add a default gateway ")]),e._v("\n")])])]),a("p",[a("code",[e._v("man route")]),e._v(" will give more information about the other features of "),a("code",[e._v("route")]),e._v(".")]),e._v(" "),a("p",[a("code",[e._v("ping")]),e._v(" is an extremely useful tool for checking connection status. "),a("code",[e._v("ping")]),e._v(" sends Internet Control Message Protocol (ICMP) packets to the target IP, and reports back any errors, packet loss, network latency, etc. It is almost certainly the fastest way to check whether a machine is connected to a network.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("ping")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("192.168")]),e._v(".0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[a("a",{attrs:{id:"org376e23a"}})]),e._v(" "),a("h3",{attrs:{id:"ssh"}},[a("code",[e._v("ssh")])]),e._v(" "),a("p",[a("code",[e._v("ssh")]),e._v(" is the Secure Shell. "),a("code",[e._v("ssh")]),e._v(" uses public-key cryptography to authenticate with a remote host and provide a secure and private connection with that host.")]),e._v(" "),a("p",[a("code",[e._v("/etc/ssh/")]),e._v(" is where much of the "),a("code",[e._v("ssh")]),e._v(" configuration is to be found. Each user also has a "),a("code",[e._v(".ssh/")]),e._v(" directory, in which a file named "),a("code",[e._v("config")]),e._v(" can be placed to define the connection configuration for specified remote hosts.")]),e._v(" "),a("p",[e._v("A "),a("code",[e._v("~/.ssh/config")]),e._v(" file might look like this:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("Host host1\n    HostName SOME.IP.HERE\n    User some-user\n    Port "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("22")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# usually")]),e._v("\n    IdentityFile path/to/ssh/key/here\n\nHost host2\n    HostName ANOTHER.IP.HERE\n    User a-different-user\n    Port specify-a-different-port\n")])])])])}),[],!1,null,null,null);t.default=o.exports}}]);